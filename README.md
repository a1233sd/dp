# DiffPress 2.0

DiffPress ‚Äî —Å–µ—Ä–≤–∏—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ PDF-–æ—Ç—á—ë—Ç–æ–≤ –Ω–∞ –ø–ª–∞–≥–∏–∞—Ç —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º UI –Ω–∞ Next.js –∏
–Ω–æ–≤—ã–º –±—ç–∫–µ–Ω–¥–æ–º –Ω–∞ Django. –¢–µ–∫—Å—Ç—ã –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `pandas` –∏
`scikit-learn`: –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–æ–∏—Ç—Å—è TF‚ÄëIDF –º–∞—Ç—Ä–∏—Ü–∞ (—Å–ª–æ–≤–∞–º–∏ –∏
—Å–∏–º–≤–æ–ª—å–Ω—ã–º–∏ n-–≥—Ä–∞–º–º–∞–º–∏), —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è
–ø–æ–Ω—è—Ç–Ω—ã–π diff —Å–æ–≤–ø–∞–¥–∞—é—â–∏—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üì• –ó–∞–≥—Ä—É–∑–∫–∞ –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö PDF —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ REST API.
- üß† –£—Å–∏–ª–µ–Ω–Ω—ã–π –∞–Ω—Ç–∏-–ø–ª–∞–≥–∏–∞—Ç: –∫–æ–º–±–∏–Ω–∞—Ü–∏—è word- –∏ char-level TF‚ÄëIDF –≤ `pandas` –∏
  `scikit-learn` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–æ—á–Ω–µ–µ –Ω–∞—Ö–æ–¥–∏—Ç—å –∑–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏—è –≤ —Ç–µ–∫—Å—Ç–µ.
- üëÄ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Next.js –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–æ –≤–Ω–µ—à–Ω–µ–º
  –≤–∏–¥–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- üóÇÔ∏è –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–æ –∫–∞–∂–¥–æ–º—É –æ—Ç—á—ë—Ç—É –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π.
- üóëÔ∏è –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã –æ–¥–Ω–∏–º –∑–∞–ø—Ä–æ—Å–æ–º.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
.
‚îú‚îÄ‚îÄ backend/                     # Django + pandas + scikit-learn API
‚îÇ   ‚îú‚îÄ‚îÄ plagiarism/              # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ –≤–∑–≥–ª—è–¥–∞–º–∏, –º–æ–¥–µ–ª—è–º–∏ –∏ –ª–æ–≥–∏–∫–æ–π
‚îÇ   ‚îî‚îÄ‚îÄ plagiarism_checker/      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ src/                         # Next.js —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (App Router)
    ‚îú‚îÄ‚îÄ app/                     # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü
    ‚îú‚îÄ‚îÄ lib/api.ts               # –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ URL –¥–ª—è Django API
    ‚îî‚îÄ‚îÄ types/                   # –û–±—â–∏–µ —Ç–∏–ø—ã
```

–ë—ç–∫–µ–Ω–¥ —Ö—Ä–∞–Ω–∏—Ç –æ—Ç—á—ë—Ç—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤ SQLite (`backend/db.sqlite3`),
–≤–æ–∑–≤—Ä–∞—â–∞—è UI —Ç–µ –∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —á—Ç–æ –∏ –ø—Ä–µ–¥—ã–¥—É—â–∞—è –≤–µ—Ä—Å–∏—è. –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –Ω–∏–∫–∞–∫–∏—Ö
–º–∏–≥—Ä–∞—Ü–∏–π —Å–æ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è: –±–∞–∑–∞ —á–∏—Å—Ç–∞—è, –Ω–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è
—Å –Ω—É–ª—è.

## –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

### 1. Django API

```bash
cd backend
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
python manage.py migrate
python manage.py runserver 0.0.0.0:8000
```

### 2. Next.js UI

–í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
npm install
npm run dev
```

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ `http://localhost:8000/api`. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∞–¥—Ä–µ—Å —á–µ—Ä–µ–∑ `NEXT_PUBLIC_API_BASE_URL`.

## Docker Compose

–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –æ–±–æ–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker Compose:

```bash
docker compose up --build
```

–°—Ç–µ–∫ –ø–æ–¥–Ω–∏–º–µ—Ç –¥–≤–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

- `backend` ‚Äî Django API –Ω–∞ –ø–æ—Ä—Ç—É 8000.
- `frontend` ‚Äî Next.js UI –Ω–∞ –ø–æ—Ä—Ç—É 3000.

## REST API

- `GET /api/reports` ‚Äî —Å–ø–∏—Å–æ–∫ –æ—Ç—á—ë—Ç–æ–≤ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π.
- `POST /api/reports` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ PDF (`multipart/form-data`, –ø–æ–ª–µ `files`).
- `DELETE /api/reports` ‚Äî –ø–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã.
- `GET /api/reports/<id>` ‚Äî –¥–∞–Ω–Ω—ã–µ –æ—Ç—á—ë—Ç–∞ –∏ –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫.
- `DELETE /api/reports/<id>` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –æ—Ç—á—ë—Ç–∞.
- `GET /api/checks/<id>` ‚Äî —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è.
- `GET /api/diff?source=<id>&target=<id>` ‚Äî diff –º–µ–∂–¥—É –¥–≤—É–º—è –æ—Ç—á—ë—Ç–∞–º–∏.

–í—Å–µ –æ—Ç–≤–µ—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON. –î–ª—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø–µ–Ω –ø—Ä–æ—Ü–µ–Ω—Ç —Å—Ö–æ–∂–µ—Å—Ç–∏
–∏ –ø—Ä–µ–≤—å—é —Å–æ–≤–ø–∞–¥–∞—é—â–∏—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤.

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                   |
|---------------------------|----------------------------------------------|
| `NEXT_PUBLIC_API_BASE_URL`| –ë–∞–∑–æ–≤—ã–π URL Django API –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.        |

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ UI

```bash
npm test
```

–î–ª—è –±—ç–∫–µ–Ω–¥–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–∏—Å–∞—Ç—å –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã —Å –ø–æ–º–æ—â—å—é `pytest` –∏–ª–∏ `django.test`
(–Ω–µ –≤—Ö–æ–¥—è—Ç –≤ –±–∞–∑–æ–≤—É—é –ø–æ—Å—Ç–∞–≤–∫—É).

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö ‚Äî –∞–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ –ø–æ–¥ —Å–≤–æ–∏
–ø—Ä–æ—Ü–µ—Å—Å—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç—á—ë—Ç–æ–≤.
